# Loop through the directory
# Set initial data frame
df = data.frame(data$Date)
colnames(df) = "Date"
head(df)
path = "/Users/mupton/Dropbox/My Mac (GE-LAP-885.local)/Downloads/rlr_annual/data"
out.file<-""
file.names <- dir(path, pattern =".rlrdata")
i=1
head(file_list)
for(i in 1:length(file.names)){
file <- read.csv(paste0("/Users/mupton/Dropbox/My Mac (GE-LAP-885.local)/Downloads/rlr_annual/data/",
file.names[i]),stringsAsFactors = FALSE, header=F,sep=";")
file$V2[file$V2 == -99999] <- NA
file$V1 = date_decimal(file$V1)
new_df = data.frame(file$V1,file$V2)
#names = c("Date",paste0("Tide_Level_",file_list[i,4]),paste0("flag_1",file_list[i,4]),paste0("flag_2",file_list[i,4]))
names = c("Date",paste0("Tide_Level_",file_list[i,4]))
colnames(new_df) = names
head(new_df)
setDT(df)
setDT(new_df)
df = new_df[df, on = c('Date')]
cat("this is iteration",i,"\n")
}
library(lubridate)
library(data.table)
# Individual File Reading
# Read the gauge file list (location, names)
file_list = read.csv("/Users/mupton/Dropbox/My Mac (GE-LAP-885.local)/Downloads/rlr_annual/filelist.txt",stringsAsFactors = FALSE, header=F,sep=";")
# Read 1x data set - oldest station with 1807 start date (sets the initial date)
data = read.csv("/Users/mupton/Dropbox/My Mac (GE-LAP-885.local)/Downloads/rlr_annual/data/1.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
data$V2[data$V2 == -99999] <- NA
names = c("Date","Tidal_Level","flag_attention_1","flag_attention_2")
colnames(data) = names
head(data)
# Convert decimal date to R date using lubridate function
# Date format = year + (month-0.5)/12.0
data$V1 = date_decimal(data$V1)
plot(data$V1,data$V2,type="b")
plot(data$V1,data$V2,type="b")
# Convert decimal date to R date using lubridate function
# Date format = year + (month-0.5)/12.0
data$V1 = date_decimal(data$V1)
head(data)
# Read 1x data set - oldest station with 1807 start date (sets the initial date)
data = read.csv("/Users/mupton/Dropbox/My Mac (GE-LAP-885.local)/Downloads/rlr_annual/data/1.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
data$V2[data$V2 == -99999] <- NA
names = c("Date","Tidal_Level","flag_attention_1","flag_attention_2")
colnames(data) = names
head(data)
# Convert decimal date to R date using lubridate function
# Date format = year + (month-0.5)/12.0
data$Date = date_decimal(data$Date)
plot(data$Date,data$Tidal_Level,type="b")
# Set initial data frame
df = data.frame(data$Date)
colnames(df) = "Date"
head(df)
path = "/Users/mupton/Dropbox/My Mac (GE-LAP-885.local)/Downloads/rlr_annual/data"
out.file<-""
file.names <- dir(path, pattern =".rlrdata")
i=1
head(file_list)
for(i in 1:length(file.names)){
file <- read.csv(paste0("C:/Users/Andrew.Bannerman/Desktop/PSMSL Tidal Data/rlr_monthly/rlr_monthly/data/",file.names[i]),stringsAsFactors = FALSE, header=F,sep=";")
file$V2[file$V2 == -99999] <- NA
file$V1 = date_decimal(file$V1)
new_df = data.frame(file$V1,file$V2)
#names = c("Date",paste0("Tide_Level_",file_list[i,4]),paste0("flag_1",file_list[i,4]),paste0("flag_2",file_list[i,4]))
names = c("Date",paste0("Tide_Level_",file_list[i,4]))
colnames(new_df) = names
head(new_df)
setDT(df)
setDT(new_df)
df = new_df[df, on = c('Date')]
cat("this is iteration",i,"\n")
}
for(i in 1:length(file.names)){
file <- read.csv(paste0("/Users/mupton/Dropbox/My Mac (GE-LAP-885.local)/Downloads/rlr_annual/data/",file.names[i]),stringsAsFactors = FALSE, header=F,sep=";")
file$V2[file$V2 == -99999] <- NA
file$V1 = date_decimal(file$V1)
new_df = data.frame(file$V1,file$V2)
#names = c("Date",paste0("Tide_Level_",file_list[i,4]),paste0("flag_1",file_list[i,4]),paste0("flag_2",file_list[i,4]))
names = c("Date",paste0("Tide_Level_",file_list[i,4]))
colnames(new_df) = names
head(new_df)
setDT(df)
setDT(new_df)
df = new_df[df, on = c('Date')]
cat("this is iteration",i,"\n")
}
# Perform Row Means
row_mean_df = df[1:nrow(df),2:length(df)]
row_mean <- rowMeans(row_mean_df, na.rm=TRUE)
final = data.frame(df$Date,row_mean)
colnames(final) = c("Date","World_Wide_Mean")
head(final)
# Standard Plot
plot(df$Date,row_mean,type="b")
final$na_count <- apply(!is.na(row_mean_df), 1, sum)
plot(df$Date,row_mean_df$na_count,type="l")
str(final)
# Tidal data plot
library(ggplot2)
library(scales)
p1 = ggplot(data = final, aes(x=Date,y=World_Wide_Mean,col=World_Wide_Mean)) +
geom_point(color="red")+
geom_line(color="red")+
theme_bw()+
ggtitle("Mean Sea Level")+
ylab("Annual Monthly Mean - All RLR Stations")+
xlab("Date")+
scale_y_continuous(breaks = seq(0, max(final$World_Wide_Mean), by = 100))+
labs(caption = "Data Source: Permanent Service for Mean Sea Level")
# scale_x_date(breaks = date_breaks("year"),
#             labels=date_format(format = "%YYYY", tz = "UTC"))
scale_x_date(date_breaks = "year")
labs(colour="Bedroom Size")
p2 = ggplot(data = final, aes(x=Date,y=na_count,col=World_Wide_Mean)) +
geom_line(color="red")+
theme_bw()+
ggtitle("Total Stations")+
ylab("#No. Stations")+
xlab("Date")+
scale_y_continuous(breaks = seq(0, max(final$World_Wide_Mean), by = 100))
multiplot(p1, p2,cols=1)
row_mean_df
#-----Updated PSMSL Tide Data Code-----
#--Monthly Data---
rm(list = ls())
# Set Directory
setwd("/Users/mupton/Dropbox/Maeve U Sea Level Data/tidal_gauge_data")
library(tidyverse)
library(data.table)
# Individual File Reading
# Read the gauge file list (location, names)
file_list <- read.csv("rlr_monthly/filelist.txt",stringsAsFactors = FALSE, header=F,sep=";")
colnames(file_list)<- c("id","latitude","longitude","name","coastline","stationcode","stationflag")
# Removing white space in the name of each site
file_list$name <- gsub("[[:space:]]", "",file_list$name)
file_list$stationflag <- gsub("[[:space:]]", "",file_list$stationflag)
# Read 1x data set - oldest station with 1807 start date (sets the initial date)
site_1 <- read.csv("rlr_monthly/data/1.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
site_1$V2[site_1$V2 == -99999] <- NA
site_1$id <- "1"
#--What is flag_attention_2?---
colnames(site_1) = c("Age","RSL","flag_attention_1","flag_attention_2","id")
# Combining file list (location,names) with the SL vs Age data for site 1
full_site_1_df <- merge(site_1,file_list[1,])
site_2 <- read.csv("rlr_monthly/data/10.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
site_2$V2[site_2$V2 == -99999] <- NA
site_2$id <- "2"
colnames(site_2) <- c("Age","RSL","flag_attention_1","flag_attention_2","id")
# Combining file list (location,names) with the SL vs Age data for site 2
full_site_2_df <- merge(site_2,file_list[2,])
#--Joining site 1 & 2---
SL_df_site_1_2<- rbind(full_site_1_df,full_site_2_df)
#--Remove NAs--
SL_df_site_1_2<- SL_df_site_1_2 %>%  drop_na()
#-- Removing sites which have a station flag raised as they are poor sites---
SL_df_site_1_2 <- SL_df_site_1_2 %>%  filter(!stationflag == "Y")
#---Averaging monthly RSL values---
SL_df_site_1_2_average <- SL_df_site_1_2 %>%
group_by(Age) %>%
mutate(RSL = mean(RSL))
#---Removing the offset of 7000mm---
SL_df_site_1_2$RSL <- SL_df_site_1_2$RSL - 7000
#--Plotting 2 sites----
test_plot <- ggplot()+
geom_point(data = SL_df_site_1_2, aes(x = Age, y = RSL))+
facet_wrap(~id)
test_plot
#---Loop to open all RSL & Age data files----
read_plus <- function(flnm) {
fread(flnm, sep= ";") %>% # fread quicker way to read in & allows for ; to be used
mutate(filename = flnm) # allows you to include the file name as id
}
temp_SL<-
list.files(path = "rlr_monthly/data",
pattern = "*.rlrdata",
full.names = T) %>%
map_df(~read_plus(.)) %>%  as.tibble()
colnames(temp_SL) = c("Age","RSL","flag_attention_1","flag_attention_2","id")
SL_df <- temp_SL %>%
mutate(id = str_extract(id,"[0-9]+")) %>% # pulling out the file number from string
filter(!RSL== -99999) %>%  # Cases where bad data was collected
mutate(RSL = RSL- 7000) # Removing the offset. RSL in mm
#--Joining SL data with location names--
annual_SL_tide_df <-merge(SL_df,file_list,by = "id",all = TRUE)
#-- Removing sites which have a station flag raised as they are poor sites---
annual_SL_tide_df <- annual_SL_tide_df %>%
filter(!stationflag == "Y") %>%
drop_na()# %>%
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#--Global Mean Sea Level---
gmsl_tidal_gauge <- annual_SL_tide_df %>%
group_by(Age) %>%
summarise(RSL = mean(RSL))
gmsl_plot <-
ggplot()+
geom_line(data = gmsl_tidal_gauge, aes(x = Age, y = RSL))+
theme(legend.position="none")
#facet_wrap(~id)
gmsl_plot
#-----Updated PSMSL Tide Data Code-----
# Reference: https://gist.github.com/flare9x/a13482087e322b8ba6c208194c85a182
#--Annual Data---
rm(list = ls())
# Set Directory
setwd("/Users/mupton/Dropbox/Maeve U Sea Level Data/tidal_gauge_data")
library(tidyverse)
library(data.table)
###------Individual File Reading Test-------
# Read the gauge file list (location, names)
file_list <- read.csv("rlr_annual/filelist.txt",stringsAsFactors = FALSE, header=F,sep=";")
colnames(file_list)<- c("id","Latitude","Longitude","name","coastline","stationcode","stationflag")
# Removing white space in the name of each site
file_list$name <- gsub("[[:space:]]", "",file_list$name)
file_list$stationflag <- gsub("[[:space:]]", "",file_list$stationflag)
# Read 1st data set - oldest station with 1807 start date (sets the initial date)
site_1 <- read.csv("rlr_annual/data/1.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
site_1$V2[site_1$V2 == -99999] <- NA
site_1$id <- "1"
#--What is flag_attention_2?---
colnames(site_1) = c("Age","RSL","flag_attention_1","flag_attention_2","id")
# Combining file list (location,names) with the SL vs Age data for site 1
full_site_1_df <- merge(site_1,file_list[1,])
# Read 2nd data set
site_2 <- read.csv("rlr_annual/data/10.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
site_2$V2[site_2$V2 == -99999] <- NA
site_2$id <- "2"
colnames(site_2) <- c("Age","RSL","flag_attention_1","flag_attention_2","id")
# Combining file list (location,names) with the SL vs Age data for site 2
full_site_2_df <- merge(site_2,file_list[2,])
#--Joining site 1 & 2---
SL_df_site_1_2<- rbind(full_site_1_df,full_site_2_df)
#--Remove NAs--
SL_df_site_1_2<- SL_df_site_1_2 %>%  drop_na()
#-- Removing sites which have a station flag raised as they are poor sites---
SL_df_site_1_2 <- SL_df_site_1_2 %>%  filter(!stationflag == "Y")
#---Removing the offset of 7000mm---
SL_df_site_1_2$RSL <- SL_df_site_1_2$RSL - 7000
#--Plotting 2 sites----
test_plot <- ggplot()+
geom_point(data = SL_df_site_1_2, aes(x = Age, y = RSL))+
facet_wrap(~id)
test_plot
###------------Loop to open all RSL & Age data files------------
read_plus <- function(flnm) {
fread(flnm, sep= ";") %>% # fread quicker way to read in & allows for ; to be used
mutate(filename = flnm) # allows you to include the file name as id
}
temp_SL<-
list.files(path = "rlr_annual/data",
pattern = "*.rlrdata",
full.names = T) %>%
map_df(~read_plus(.)) %>%  as.tibble()
# Warnings there are some files without data
colnames(temp_SL) = c("Age","RSL","flag_attention_1","flag_attention_2","id")
SL_df <- temp_SL %>%
mutate(id = str_extract(id,"[0-9]+")) %>% # pulling out the file number from string
filter(!RSL== -99999) %>%  # Cases where bad data was collected
mutate(RSL = RSL- 7000) # Removing the offset. RSL in mm
#--Joining SL data with location names--
annual_SL_tide_df <-merge(SL_df,file_list,by = "id",all = TRUE)
#-- Removing sites which have a station flag raised as they are poor sites---
annual_SL_tide_df <- annual_SL_tide_df %>%
filter(!stationflag == "Y") %>%
drop_na()
annual_SL_tide_df$RSL %>% range()
annual_SL_tide_df <- annual_SL_tide_df %>%
filter(!stationflag == "Y") %>%
drop_na()
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#--Global Mean Sea Level---
gmsl_tidal_gauge <- annual_SL_tide_df %>%
group_by(Age) %>%
summarise(RSL = mean(RSL))
gmsl_plot <-
ggplot()+
geom_line(data = gmsl_tidal_gauge, aes(x = Age, y = RSL))+
theme(legend.position="none")
#facet_wrap(~id)
gmsl_plot
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
#geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
geom_point(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
facet_wrap(~id)
full_data_plot
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")+
facet_wrap(~id)
full_data_plot
#-----Updated PSMSL Tide Data Code-----
#--Monthly Data---
rm(list = ls())
# Set Directory
setwd("/Users/mupton/Desktop/Github/tide_gauge_data_PSMSL")
##----------Updated PSMSL Tide Data Code-----------
#--Monthly Data---
rm(list = ls())
# Set Directory
setwd("/Users/mupton/Desktop/Github/tide_gauge_data_PSMSL")
library(tidyverse)
library(data.table)
# Individual File Reading
# Read the gauge file list (location, names)
file_list <- read.csv("rlr_monthly/filelist.txt",stringsAsFactors = FALSE, header=F,sep=";")
colnames(file_list)<- c("id","latitude","longitude","name","coastline","stationcode","stationflag")
# Removing white space in the name of each site
file_list$name <- gsub("[[:space:]]", "",file_list$name)
file_list$stationflag <- gsub("[[:space:]]", "",file_list$stationflag)
# Read 1x data set - oldest station with 1807 start date (sets the initial date)
site_1 <- read.csv("rlr_monthly/data/1.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
site_1$V2[site_1$V2 == -99999] <- NA
site_1$id <- "1"
#--What is flag_attention_2?---
colnames(site_1) = c("Age","RSL","flag_attention_1","flag_attention_2","id")
# Combining file list (location,names) with the SL vs Age data for site 1
full_site_1_df <- merge(site_1,file_list[1,])
site_2 <- read.csv("rlr_monthly/data/10.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
site_2$V2[site_2$V2 == -99999] <- NA
site_2$id <- "2"
colnames(site_2) <- c("Age","RSL","flag_attention_1","flag_attention_2","id")
# Combining file list (location,names) with the SL vs Age data for site 2
full_site_2_df <- merge(site_2,file_list[2,])
#--Joining site 1 & 2---
SL_df_site_1_2<- rbind(full_site_1_df,full_site_2_df)
#--Remove NAs--
SL_df_site_1_2<- SL_df_site_1_2 %>%  drop_na()
#-- Removing sites which have a station flag raised as they are poor sites---
SL_df_site_1_2 <- SL_df_site_1_2 %>%  filter(!stationflag == "Y")
#---Averaging monthly RSL values---
SL_df_site_1_2_average <- SL_df_site_1_2 %>%
group_by(Age) %>%
mutate(RSL = mean(RSL))
#---Removing the offset of 7000mm---
SL_df_site_1_2$RSL <- SL_df_site_1_2$RSL - 7000
#--Plotting 2 sites----
test_plot <- ggplot()+
geom_point(data = SL_df_site_1_2, aes(x = Age, y = RSL))+
facet_wrap(~id)
test_plot
#---Loop to open all RSL & Age data files----
read_plus <- function(flnm) {
fread(flnm, sep= ";") %>% # fread quicker way to read in & allows for ; to be used
mutate(filename = flnm) # allows you to include the file name as id
}
temp_SL<-
list.files(path = "rlr_monthly/data",
pattern = "*.rlrdata",
full.names = T) %>%
map_df(~read_plus(.)) %>%  as.tibble()
temp_SL<-
list.files(path = "rlr_monthly/data",
pattern = "*.rlrdata",
full.names = T) %>%
map_df(~read_plus(.)) %>%  as.tibble()
# Warnings there are some files without data
colnames(temp_SL) = c("Age","RSL","flag_attention_1","flag_attention_2","id")
SL_df <- temp_SL %>%
mutate(id = str_extract(id,"[0-9]+")) %>% # pulling out the file number from string
filter(!RSL== -99999) %>%  # Cases where bad data was collected
mutate(RSL = RSL- 7000) %>% # Removing the offset. RSL in mm
group_by(Age) %>% # Getting the mean RSL value for each year
mutate(RSL = mean(RSL))
#--Joining SL data with location names--
annual_SL_tide_df <-merge(SL_df,file_list,by = "id",all = TRUE)
#-- Removing sites which have a station flag raised as they are poor sites---
annual_SL_tide_df <- annual_SL_tide_df %>%
filter(!stationflag == "Y") %>%
drop_na()# %>%
#filter(RSL > -4000) %>%  # Site in Cyprus -4244mm
#filter(RSL < 2800) # Site in Russia 2830mm
write.csv(annual_SL_tide_df,"annual_monthly_SL_tide_df.csv")
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
glimpse(SL_df)
SL_df <- temp_SL %>%
mutate(id = str_extract(id,"[0-9]+")) %>% # pulling out the file number from string
filter(!RSL== -99999) %>%  # Cases where bad data was collected
mutate(RSL = RSL- 7000) %>% # Removing the offset. RSL in mm
group_by(Age,id) %>% # Getting the mean RSL value for each year
mutate(RSL = mean(RSL))
#--Joining SL data with location names--
annual_SL_tide_df <-merge(SL_df,file_list,by = "id",all = TRUE)
#-- Removing sites which have a station flag raised as they are poor sites---
annual_SL_tide_df <- annual_SL_tide_df %>%
filter(!stationflag == "Y") %>%
drop_na()# %>%
#filter(RSL > -4000) %>%  # Site in Cyprus -4244mm
#filter(RSL < 2800) # Site in Russia 2830mm
write.csv(annual_SL_tide_df,"annual_monthly_SL_tide_df.csv")
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#-- Removing sites which have a station flag raised as they are poor sites---
annual_SL_tide_df <- annual_SL_tide_df %>%
filter(!stationflag == "Y") %>%
drop_na() %>%
#Weird outliers
filter(RSL > -4000) %>%  # Site in Cyprus -4244mm
filter(RSL < 2800) # Site in Russia 2830mm
write.csv(annual_SL_tide_df,"annual_monthly_SL_tide_df.csv")
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
#theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))#+
#theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
annual_SL_tide_df %>% filter(RSL >2500)
annual_SL_tide_df %>% filter(id == "RIMOUSKI")
annual_SL_tide_df %>% filter(name == "RIMOUSKI")
bad_site <- annual_SL_tide_df %>% filter(name == "RIMOUSKI")
ggplot()+
geom_line(data = bad_site, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#-- Removing sites which have a station flag raised as they are poor sites---
annual_SL_tide_df <- annual_SL_tide_df %>%
filter(!stationflag == "Y") %>%
drop_na()# %>%
#Weird outliers
#filter(RSL > -4000) %>%  # Site in Cyprus -4244mm
#filter(RSL < 2800) # Site in Russia 2830mm
write.csv(annual_SL_tide_df,"annual_monthly_SL_tide_df.csv")
#--Plotting Tidal gauge data---
full_data_plot <- ggplot()+
geom_line(data = annual_SL_tide_df, aes(x = Age, y = RSL,colour = name))+
theme(legend.position="none")
#facet_wrap(~id)
full_data_plot
#--Global Mean Sea Level---
gmsl_tidal_gauge <- annual_SL_tide_df %>%
group_by(Age) %>%
summarise(RSL = mean(RSL))
gmsl_plot <-
ggplot()+
geom_line(data = gmsl_tidal_gauge, aes(x = Age, y = RSL))+
theme(legend.position="none")
#facet_wrap(~id)
gmsl_plot
# Set Directory
setwd("/Users/mupton/Desktop/Github/tide_gauge_data_PSMSL")
library(tidyverse)
library(data.table)
###------Individual File Reading Test-------
# Read the gauge file list (location, names)
file_list <- read.csv("rlr_annual/filelist.txt",stringsAsFactors = FALSE, header=F,sep=";")
colnames(file_list)<- c("id","Latitude","Longitude","name","coastline","stationcode","stationflag")
# Removing white space in the name of each site
file_list$name <- gsub("[[:space:]]", "",file_list$name)
file_list$stationflag <- gsub("[[:space:]]", "",file_list$stationflag)
# Read 1st data set - oldest station with 1807 start date (sets the initial date)
site_1 <- read.csv("rlr_annual/data/1.rlrdata",stringsAsFactors = FALSE, header=F,sep=";")
site_1$V2[site_1$V2 == -99999] <- NA
site_1$id <- "1"
#--What is flag_attention_2?---
colnames(site_1) = c("Age","RSL","flag_attention_1","flag_attention_2","id")
# Combining file list (location,names) with the SL vs Age data for site 1
full_site_1_df <- merge(site_1,file_list[1,])
source('~/Desktop/Github/tide_gauge_data_PSMSL/psml_annual_tide_data_code.R')
dim(annual_SL_tide_df)
source('~/Desktop/Github/tide_gauge_data_PSMSL/psml_monthly_tide_data_code.R')
View(annual_SL_tide_df)
